DROP TABLE IF EXISTS LOCATIONS CASCADE;
DROP TABLE IF EXISTS LIKES_LOCATIONS CASCADE;

CREATE TABLE IF NOT EXISTS LOCATIONS
(
    LOCATION_ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    LAT   NUMERIC(10,6) NOT NULL,
    LON   NUMERIC(10,6) NOT NULL,
    CONSTRAINT LOCATIONS_PK
        PRIMARY KEY (LOCATION_ID)
);

CREATE TABLE IF NOT EXISTS LIKES_LOCATIONS
(
    LOCATION_ID BIGINT NOT NULL,
    USER_ID BIGINT NOT NULL,
    CONSTRAINT LIKES_PK
        PRIMARY KEY (LOCATION_ID, USER_ID),
    CONSTRAINT LIKES_EVENT_ID_FK_EVENTS_EVENT_ID
        FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS (LOCATION_ID) ON DELETE CASCADE
);
